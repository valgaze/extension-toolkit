import{j as e}from"./jsx-runtime-C6qLVRqm.js";import{R as s}from"./index-C2WPW1L7.js";const u=({configId:c,payload:o,onPayloadChange:i})=>{const[a,x]=s.useState(JSON.stringify(o,null,2)),[n,d]=s.useState(null),l=t=>{x(t);try{const r=JSON.parse(t);d(null),i==null||i(r)}catch(r){d(r.message)}};return e.jsxs("div",{style:{position:"fixed",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.95)",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"16px",maxWidth:"400px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",fontFamily:"monospace",fontSize:"12px",backdropFilter:"blur(4px)"},children:[e.jsxs("div",{style:{marginBottom:"12px",fontWeight:"bold",color:"#666",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{children:"🔍"}),e.jsx("span",{children:"Debug Panel"})]}),e.jsxs("div",{style:{marginBottom:"8px",color:"#666"},children:["Extension ID: ",e.jsx("span",{style:{color:"#000"},children:c})]}),e.jsx("h2",{children:"Payload Data:"}),e.jsx("textarea",{value:a,onChange:t=>l(t.target.value),style:{width:"100%",minHeight:"200px",fontFamily:"monospace",fontSize:"12px",padding:"8px",border:`1px solid ${n?"#ff0000":"#eee"}`,borderRadius:"4px",background:"#f5f5f5",marginBottom:n?"4px":"12px"}}),n&&e.jsx("div",{style:{color:"#ff0000",marginBottom:"12px",fontSize:"11px"},children:n}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(o,null,2));const t=document.activeElement,r=t.innerText;t.innerText="✅ Copied!",setTimeout(()=>{t.innerText=r},1e3)},style:{width:"100%",border:"1px solid #e0e0e0",borderRadius:"4px",padding:"6px 12px",background:"#f8f8f8",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s ease"},onMouseOver:t=>{t.currentTarget.style.background="#f0f0f0"},onMouseOut:t=>{t.currentTarget.style.background="#f8f8f8"},children:[e.jsx("span",{children:"📋"}),e.jsx("span",{children:"Copy Payload"})]})]})},b=(c,o,i,a)=>({args:{showDebugPanel:!0},argTypes:{showDebugPanel:{control:"boolean",description:"Toggle debug panel visibility",defaultValue:!0}},render:({showDebugPanel:x=!0})=>{const[n,d]=s.useState(null),[l,t]=s.useState(i),r=s.useRef();return s.useEffect(()=>{if(n)return r.current&&r.current(),setTimeout(()=>{r.current=c.render({element:n,trace:{type:o.id,payload:l}})},0),()=>{setTimeout(()=>{var p;(p=r.current)==null||p.call(r)},0)}},[n,l]),e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:d,style:{...a==null?void 0:a.containerStyles}}),x&&e.jsx(u,{configId:o.id,payload:l})]})}});export{b as c};
