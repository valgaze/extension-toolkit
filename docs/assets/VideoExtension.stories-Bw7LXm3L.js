import{c}from"./index-CwLM2GVF.js";import"./jsx-runtime-C6qLVRqm.js";import"./index-C2WPW1L7.js";const r={id:"ext_video",reference_name:"video",description:"Renders a video player for various video sources"},u={name:r.reference_name,type:"response",match:({trace:o})=>{var n;return o.type===r.id||((n=o.payload)==null?void 0:n.name)===r.id},render:({element:o,trace:n})=>{var S;const{url:w,autoplay:f,controls:v,muted:E,loop:g,title:i}=n.payload||{},F=e=>(e==null?void 0:e.match(/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)/))!==null,J=e=>{const t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,s=e==null?void 0:e.match(t);return(s==null?void 0:s[2])??""},K=e=>{if(!e)return 0;const t=/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?/,s=e.match(t);if(!s)return 0;const[_,x,a,L]=s;return parseInt(x||"0")*3600+parseInt(a||"0")*60+parseInt(L||"0")};if(F(w)){const e=document.createElement("div");e.style.cssText="position: relative; width: 100%;";const t=document.createElement("iframe"),s=J(w),_=K(((S=n.payload)==null?void 0:S.startAt)||""),x=new URLSearchParams({autoplay:f?"1":"0",mute:E?"1":"0",controls:v!==!1?"1":"0",loop:g?"1":"0",start:_.toString()});if(t.src=`https://www.youtube.com/embed/${s}?${x.toString()}`,t.style.cssText=`
        border: none;
      `,t.allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",t.allowFullscreen=!0,i){t.title=i;const a=document.createElement("h3");a.textContent=i,a.style.cssText=`
          font-size: 1.5rem;
          font-weight: bold;
          margin-bottom: 1rem;
          font-family: sans-serif;
        `,e.appendChild(a)}e.appendChild(t),o.appendChild(e)}else{const e=document.createElement("video");e.src=w,e.style.maxWidth="100%",f&&e.setAttribute("autoplay",""),v&&e.setAttribute("controls",""),E&&e.setAttribute("muted",""),g&&e.setAttribute("loop",""),i&&e.setAttribute("title",i),e.addEventListener("ended",()=>{window.voiceflow.chat.interact({type:"complete",payload:{}})}),e.style.cssText=`
        max-width: 100%;
        width: 100%;
        aspect-ratio: 16/9;
        display: block;
      `,o.appendChild(e)}return()=>{for(;o.firstChild;)o.removeChild(o.firstChild)}}},$={title:"Extensions/Video",parameters:{layout:"centered"}},d={containerStyles:{width:"640px"}},l={youtubeDemo:{url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",title:"Never Gonna Give You Up",autoplay:!0,controls:!0,muted:!0},biscotti:{url:"https://www.youtube.com/watch?v=6A8W77m-ZTw",title:"Biscotti",autoplay:!0,controls:!0,muted:!1,startAt:"1m56s"},parcels:{url:"https://www.youtube.com/watch?v=_2qsU8FGU_E",autoplay:!0,muted:!0},kosmo:{url:"https://www.youtube.com/watch?v=YKIjXoiubzc",title:"Jessica Triangle by Johnny Kosmo",controls:!1,muted:!1},localVideo:{url:"https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4",title:"Big Buck Bunny Sample",autoplay:!1,controls:!0,muted:!1}},p=c(u,r,l.youtubeDemo,d),m=c(u,r,l.parcels,d),y=c(u,r,l.kosmo,d),b=c(u,r,l.biscotti,d),h=c(u,r,l.localVideo,d);var T,Y,A;p.parameters={...p.parameters,docs:{...(T=p.parameters)==null?void 0:T.docs,source:{originalSource:"createExtensionStory<ExtensionPayload>(VideoExtension, extension_config, videos.youtubeDemo, options)",...(A=(Y=p.parameters)==null?void 0:Y.docs)==null?void 0:A.source}}};var C,V,k;m.parameters={...m.parameters,docs:{...(C=m.parameters)==null?void 0:C.docs,source:{originalSource:"createExtensionStory<ExtensionPayload>(VideoExtension, extension_config, videos.parcels, options)",...(k=(V=m.parameters)==null?void 0:V.docs)==null?void 0:k.source}}};var B,N,W;y.parameters={...y.parameters,docs:{...(B=y.parameters)==null?void 0:B.docs,source:{originalSource:"createExtensionStory<ExtensionPayload>(VideoExtension, extension_config, videos.kosmo, options)",...(W=(N=y.parameters)==null?void 0:N.docs)==null?void 0:W.source}}};var I,P,U;b.parameters={...b.parameters,docs:{...(I=b.parameters)==null?void 0:I.docs,source:{originalSource:"createExtensionStory<ExtensionPayload>(VideoExtension, extension_config, videos.biscotti, options)",...(U=(P=b.parameters)==null?void 0:P.docs)==null?void 0:U.source}}};var D,G,z;h.parameters={...h.parameters,docs:{...(D=h.parameters)==null?void 0:D.docs,source:{originalSource:"createExtensionStory<ExtensionPayload>(VideoExtension, extension_config, videos.localVideo, options)",...(z=(G=h.parameters)==null?void 0:G.docs)==null?void 0:z.source}}};const j=["YoutubeAutoplayWithControls","YoutubeAutoplayNoTitle","YoutubeNoControls","YoutubeWithStartTime","NonYoutubeVideoEmbed"];export{h as NonYoutubeVideoEmbed,m as YoutubeAutoplayNoTitle,p as YoutubeAutoplayWithControls,y as YoutubeNoControls,b as YoutubeWithStartTime,j as __namedExportsOrder,$ as default};
